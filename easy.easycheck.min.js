// jQuery EasyCheck Plugin
//
// Version 3.1.0
//
// Copy By RAY
// inthinkcolor@gmail.com
// 2012
//
// http://plugins.jquery.com/EasyCheck/
//
!function(a){var b=function(a,b){var c=u.getMatches(a.chkName);$(b.eleArea+c).each(function(c,d){var f,e=$(d).attr("id")||$(d).attr("name");b.errorEleArray[e]?b.chkFlag=!1:(f=a.chkFunction(d),f||(b.errorEleArray[e]="E",b.chkFlag=!1))})},c=function(a){var b="";a.formId&&(b="[id='"+a.formId+"'] "),$(b+"[id^='error_']").each(function(){var d,a=$(this).attr("id").replace("error_",""),c=null;c=$(b+"[id='"+a+"']").length>0?$(b+"[id='"+a+"']"):$(b+"[name='"+a+"']"),d=$("form").has(c).attr("id"),"no"!=u.ecss&&"no"!=u.formEcss[d]&&(c.attr("ecss")&&"yes"!=c.attr("ecss")||(c.removeClass(u.errorCss),d&&u.formErrorCss[d]&&c.removeClass(u.formErrorCss[d]),d&&u.formDefaultCss[d]?c.addClass(u.formDefaultCss[d]):c.addClass(u.defaultCss))),$(b+"[id^='error_']").hide()}),a.restore&&($(b+"[id^='ok_']").each(function(){$(this).hide()}),$(b+"[id^='default_']").each(function(){$(this).show()}))},d=function(a,b){return t("[vc]",a,b,function(a){var b=$(a).val(),c=!1;return $.ajaxSetup({async:!1}),$.post($(a).attr("vc"),$(a).attr("name")+"="+b+"&n="+new Date,function(a){c=a.replace(/\r\n/g,"")},"text"),"true"==c},u.msg.vc)},e=function(a,b){return t("[reg]",a,b,function(a){var b=$(a).val(),c=new RegExp("^(?:"+$(a).attr("reg")+")$");return!(""!=$.trim(b)&&!c.test(b))},u.msg.regexp)},f=function(a,b){return t("[extension]",a,b,function(a){var b=$(a).attr("extension"),c=$(a).val(),d=""!=b?b.replace(/,/g,"|"):"png|jpe?g|gif";return!(""!=$.trim(c)&&!c.match(new RegExp(".("+d+")$","i")))},u.formatMsg(u.msg.extension,$(a).attr("extension")))},g=function(a,b){return t(".required",a,b,function(a){var b=$(a).val();return""!=$.trim(b)},u.msg.required)},h=function(a,b){return t(".email",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!u.Validator.email.test(b))},u.msg.email)},i=function(a,b){return t(".url",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!u.Validator.url.test(b))},u.msg.url)},j=function(a,b){return t(".number",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!u.Validator.number.test(b))},u.msg.number)},k=function(a,b){return t(".integer",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!u.Validator.integer.test(b))},u.msg.integer)},l=function(a,b){return t("[equalto]",a,b,function(a){var b=$(a).val();return b==$("[id='"+$(a).attr("equalto")+"']").val()},u.msg.equalto)},m=function(a,b){return t("[equallength]",a,b,function(a){var b=$(a).val();return!(b.length!=$(a).attr("equallength"))},u.formatMsg(u.msg.equallength,$(a).attr("equallength")))},n=function(a,b){return t("[minlength][maxlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength")||$.trim(b).length>$(a).attr("maxlength"))},u.formatMsg(u.msg.lengthrange,$(a).attr("minlength"),$(a).attr("maxlength")))},o=function(a,b){return t("[minlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength"))},u.formatMsg(u.msg.minlength,$(a).attr("minlength")))},p=function(a,b){return t("[maxlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length>$(a).attr("maxlength"))},u.formatMsg(u.msg.maxlength,$(a).attr("maxlength")))},q=function(a,b){return t("[min][max]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},u.formatMsg(u.msg.numberrange,$(a).attr("min"),$(a).attr("max")))},r=function(a,b){return t("[min]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||isNaN(b))},u.formatMsg(u.msg.min,$(a).attr("min")))},s=function(a,b){return t("[max]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},u.formatMsg(u.msg.max,$(a).attr("max")))},t=function(a,b,c,d,e){var h,i,j,f=$(b).attr("id")||$(b).attr("name"),g=$("[id='default_"+f+"']");return g&&g.hide(),d(b)?(u.clearError(b),h=$("[id='default_"+f+"']"),h&&h.hide(),i=$("[id='ok_"+f+"']"),i&&(i.addClass("easycheck_okInfo"),i.show()),c&&"keyup"==c.type&&($(b).removeClass(u.errorCss),j=$("form").has(b),j.length>0&&u.formErrorCss[j.attr("id")]&&$(b).removeClass(u.formErrorCss[j.attr("id")]),j.length>0&&u.formFocusCss[j.attr("id")]?$(b).addClass(u.formFocusCss[j.attr("id")]):$(b).addClass(u.focusCss)),!0):(g=$("[id='default_"+f+"']"),g&&g.hide(),u.msgs[f]&&u.msgs[f][a]&&(e="string"==typeof u.msgs[f][a]?u.msgs[f][a]:u.msgs[f][a]($(b))),u.showError(b,e),c&&c.stopImmediatePropagation(),!1)},u={chkList:"",msg:{required:"不能为空",email:"邮箱格式不正确",url:"网址有误",number:"必须为数字",integer:"必须为整数",equalto:"输入不一致",minlength:"长度不能小于{0}",maxlength:"长度不能大于{0}",numberrange:"值必须在{0}和{1}之间",min:"不能小于{0}",max:"不能大于{0}",regexp:"格式有误",extension:"文件后缀只能为{0}",vc:"输入有误",equallength:"长度必须为{0}位",lengthrange:"长度必须在{0}到{1}之间"},msgs:{},Validator:{email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^-?^\d+$/,English:/^[A-Za-z]+$/,Chinese:/^[\u0391-\uFFE5]+$/,Zip:/^[1-9]\d{5}$/,Currency:/^\d+(\.\d+)?$/,Require:/.+/,ipv4:/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i,ipv6:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/},easyCheckIgnore:{},easyCheckBlurIgnore:{},easyCheckKeyupIgnore:{},easyCheckEleIgnore:{},easyCheckEleBlurIgnore:{},easyCheckEleKeyupIgnore:{},easyCheckSubmitDisable:!0,removeDisableBtn:[],removeDisableForm:[],removeDisable:!1,ecss:"yes",formEcss:{},defaultCss:"easycheck_defaultInput",focusCss:"easycheck_focusInput",errorCss:"easycheck_errorInput",formDefaultCss:{},formFocusCss:{},formErrorCss:{},loadChk:!0,blurChk:!0,keyupChk:!0,formatMsg:function(){var b,a=[];for(b=1;b<arguments.length;b++)a.push(arguments[b]);return arguments[0].replace(/\{(\d+)\}/g,function(b,c){return a[c]})},getMatches:function(a){var b=/(\[[A-Za-z0-9]+\])/g,c=/(\.[A-Za-z0-9]+)/g,e="",f=a.match(b);return null!=f&&$.each(f,function(a,b){e+=b}),f=a.match(c),null!=f&&$.each(f,function(a,b){e+="[class~='"+b.substring(1)+"']"}),e},clearAllError:function(a){c({formId:a})},restoreAll:function(a){c({formId:a,restore:!0})},showError:function(a,b){var c,d,e,f,g;"string"==typeof a&&(a=$("#"+a)[0]||$("[name='"+a+"']")[0]),c=$(a).attr("id")||$(a).attr("name"),$("[id='ok_"+c+"']").hide(),$("[id='default_"+c+"']").hide(),d=$("[id='error_"+c+"']"),0==d.size()&&($(a).after("\r\n<div id='error_"+c+"'></div>"),d=$("[id='error_"+c+"']")),d.removeClass(),d.addClass("easycheck_errorInfo"),e=$("form").has(a).attr("id"),$(a).removeClass(u.focusCss),e&&u.formFocusCss[e]&&$(a).removeClass(u.formFocusCss[e]),"no"!=u.ecss&&"no"!=u.formEcss[e]&&($(a).attr("ecss")&&"yes"!=$(a).attr("ecss")||(e&&u.formDefaultCss[e]?$(a).removeClass(u.formDefaultCss[e]):$(a).removeClass(u.defaultCss),e&&u.formErrorCss[e]?$(a).addClass(u.formErrorCss[e]):$(a).addClass(u.errorCss))),f=d.attr("prefix"),f?d.html(f+b):(f="",d.html(b)),g=d.attr("info"),g&&d.html(f+g),d.show()},clearError:function(a,b){var c,d,e;"string"==typeof a&&(a=$("#"+a)[0]||$("[name='"+a+"']")[0]),c=$(a).attr("id")||$(a).attr("name"),d=$("[id='error_"+c+"']"),e=$("form").has(a).attr("id"),d&&(d.removeClass(),"no"!=u.ecss&&"no"!=u.formEcss[e]&&($(a).attr("ecss")&&"yes"!=$(a).attr("ecss")||($(a).removeClass(u.errorCss),e&&u.formErrorCss[e]&&$(a).removeClass(u.formErrorCss[e]),e&&u.formDefaultCss[e]?$(a).addClass(u.formDefaultCss[e]):$(a).addClass(u.defaultCss))),d.addClass("easycheck_okInfo"),b?d.html(b):d.html(""),d.hide(),$("[id='default_"+c+"']").show()),$(a).removeClass(u.focusCss),e&&u.formFocusCss[e]&&$(a).removeClass(u.formFocusCss[e]),$(a).addClass(u.defaultCss)},chk:function(a,b,c){c(a,b)},initChk:function(a){var b=u.getMatches(a.chkName);$(b).on("blur",function(b){u.easyCheckBlurIgnore[a.chkName]||u.easyCheckEleIgnore[b.target.id||b.target.name]||u.easyCheckEleBlurIgnore[b.target.id||b.target.name]||(u.blurChk?u.chk(this,b,a.chkFunction):"")}).on("focus",function(){var b,c,d,e,f,g;u.clearError(this),b=$(this),c=b.attr("id")||b.attr("name"),d=$("[id='ok_"+c+"']"),d.length>0?d.filter(":hidden").length>0&&(e=$("[id='default_"+c+"']"),e&&e.show()):(e=$("[id='default_"+c+"']"),e&&e.show()),b.removeClass(u.defaultCss),u.defaultCss&&b.removeClass(u.defaultCss),f=$("form").has(b),f.length>0&&u.formDefaultCss[f.attr("id")]&&b.removeClass(u.formDefaultCss[f.attr("id")]),g=f.attr("id"),g&&u.formFocusCss[g]?b.addClass(u.formFocusCss[g]):b.addClass(u.focusCss)}).on("keyup",function(b){u.easyCheckKeyupIgnore[a.chkName]||u.easyCheckEleIgnore[b.target.id||b.target.name]||u.easyCheckEleKeyupIgnore[b.target.id||b.target.name]||(u.keyupChk?u.chk(this,b,a.chkFunction):"")})},addChk:function(a,b,c){var d=function(d,e){return t(a,d,e,b,"string"==typeof c?c:c(d))},e=new u.ChkRule(a,d);u.chkList.push(e),u.initChk(e)},ChkRule:function(a,b){this.chkName=a,this.chkFunction=b},checkForm:function(a){var d,e,c={eleArea:"[id='"+$(a).attr("id")+"'] ",chkFlag:!0,errorEleArray:new Array};for(d=0;d<u.chkList.length;d++)e=u.chkList[d],b(e,c);return 1==c.chkFlag&&1==u.easyCheckSubmitDisable?$(":submit",$(c.eleArea)).attr("disabled","true"):$(":submit",$(c.eleArea)).removeAttr("disabled"),c.chkFlag}};u.chkList=[new u.ChkRule(".required",g),new u.ChkRule(".email",h),new u.ChkRule(".url",i),new u.ChkRule(".number",j),new u.ChkRule(".integer",k),new u.ChkRule("[equalto]",l),new u.ChkRule("[equallength]",m),new u.ChkRule("[minlength][maxlength]",n),new u.ChkRule("[minlength]",o),new u.ChkRule("[maxlength]",p),new u.ChkRule("[min][max]",q),new u.ChkRule("[min]",r),new u.ChkRule("[max]",s),new u.ChkRule("[reg]",e),new u.ChkRule("[extension]",f),new u.ChkRule("[vc]",d)],u.easyCheckIgnore["[vc]"]=!0,a.EasyCheck=u}(window),$(function(){function a(){var a,b;for(a=0;a<EasyCheck.chkList.length;a++)b=EasyCheck.chkList[a],EasyCheck.easyCheckIgnore[b.chkName]||EasyCheck.initChk(b)}var b;for(EasyCheck.loadChk?"":(EasyCheck.blurChk=!1,EasyCheck.keyupChk=!1),a(),b=0;b<EasyCheck.removeDisableBtn.length;b++)$("#"+EasyCheck.removeDisableBtn[b]).removeAttr("disabled");if(1==EasyCheck.removeDisable)$("form :submit").removeAttr("disabled");else for(b=0;b<EasyCheck.removeDisableForm.length;b++)$(":submit",$("#"+EasyCheck.removeDisableForm[b])).removeAttr("disabled");$("[id*='ok_']").hide(),$("[id*='error_']").html("")});