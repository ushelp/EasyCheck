// jQuery EasyCheck Plugin
//
// Version 2.3.0
//
// Copy By RAY
// inthinkcolor@gmail.com
// 2012
//
// http://plugins.jquery.com/EasyCheck/
//
!function(a){var b=function(a,b){var c=a.chkAttr?"["+a.chkName+"]":"[class~='"+a.chkName+"']";$(b.eleArea+c).each(function(c,d){if(b.errorEleArray[$(d).attr("name")])b.chkFlag=!1;else{var e=a.chkFunction(d);e||(b.errorEleArray[$(d).attr("name")]="E",b.chkFlag=!1)}})},c=function(a){var b="";a.formId&&(b="[id='"+a.formId+"'] "),$(b+"[id^='error_']").each(function(){var a=$(this).attr("id").replace("error_",""),c=$(b+"[name='"+a+"']");"no"!=t.ecss&&(c.attr("ecss")&&"yes"!=c.attr("ecss")||(c.removeClass("easycheck_errorInput"),c.addClass(t.okcss))),$(b+"[id^='error_']").hide()}),a.restore&&($(b+"[id^='ok_']").each(function(){$(this).hide()}),$(b+"[id^='default_']").each(function(){$(this).show()}))},d=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val(),c=!1;return $.ajaxSetup({async:!1}),$.post($(a).attr("vc"),$(a).attr("name")+"="+b+"&n="+new Date,function(a){c=a.replace(/\r\n/g,"")},"text"),"true"==c},t.msg.vc)},e=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val(),c=new RegExp("^(?:"+$(a).attr("reg")+")$");return!(""!=$.trim(b)&&!c.test(b))},t.msg.regexp)},f=function(a,b){return ex=$(a).attr("extension"),t.addChkMethod(a,b,function(a){var b=$(a).val(),c=""!=ex?ex.replace(/,/g,"|"):"png|jpe?g|gif";return!(""!=$.trim(b)&&!b.match(new RegExp(".("+c+")$","i")))},t.formatMsg(t.msg.extension,ex))},g=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return""!=$.trim(b)},t.msg.required)},h=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!t.Validator.email.test(b))},t.msg.email)},i=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!t.Validator.url.test(b))},t.msg.url)},j=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!t.Validator.number.test(b))},t.msg.number)},k=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!t.Validator.integer.test(b))},t.msg.integer)},l=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return b==$("[id='"+$(a).attr("equalto")+"']").val()},t.msg.equalto)},m=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(b.length!=$(a).attr("equallength"))},t.formatMsg(t.msg.equallength,$(a).attr("equallength")))},n=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength")||$.trim(b).length>$(a).attr("maxlength"))},t.formatMsg(t.msg["minlength][maxlength"],$(a).attr("minlength"),$(a).attr("maxlength")))},o=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength"))},t.formatMsg(t.msg.minlength,$(a).attr("minlength")))},p=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!($.trim(b).length>$(a).attr("maxlength"))},t.formatMsg(t.msg.maxlength,$(a).attr("maxlength")))},q=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},t.formatMsg(t.msg["min][max"],$(a).attr("min"),$(a).attr("max")))},r=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||isNaN(b))},t.formatMsg(t.msg.min,$(a).attr("min")))},s=function(a,b){return t.addChkMethod(a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},t.formatMsg(t.msg.min,$(a).attr("min")))},t={chkList:"",msg:{required:"不能为空",email:"邮箱格式不正确",url:"网址有误",number:"必须为数字",integer:"必须为整数",equalto:"输入不一致",equallength:"长度必须为{0}位","minlength][maxlength":"长度必须在{0}到{1}之间",minlength:"长度不能小于{0}",maxlength:"长度不能大于{0}","min][max":"值必须在{0}和{1}之间",min:"不能小于{0}",max:"不能大于{0}",regexp:"格式有误",extension:"文件后缀只能为{0}",vc:"输入有误"},Validator:{email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^\d+$/,English:/^[A-Za-z]+$/,Chinese:/^[\u0391-\uFFE5]+$/,Zip:/^[1-9]\d{5}$/,Currency:/^\d+(\.\d+)?$/,Require:/.+/,ipv4:/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i,ipv6:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/},easyCheckIgnore:{},easyCheckBlurIgnore:{},easyCheckKeyupIgnore:{},easyCheckEleIgnore:{},easyCheckSubmitDisable:!0,removeDisableBtn:[],removeDisableForm:[],removeDisable:!1,ecss:"yes",okcss:"easycheck_okInput",loadChk:!0,blurChk:!0,keyupChk:!0,formatMsg:function(){var b,a=[];for(b=1;b<arguments.length;b++)a.push(arguments[b]);return arguments[0].replace(/\{(\d+)\}/g,function(b,c){return a[c]})},clearAllError:function(a){c({formId:a})},restoreAll:function(a){c({formId:a,restore:!0})},showError:function(a,b){var c,d,e;"string"==typeof a&&(a=$("#"+a)),c=$("[id='ok_"+$(a).attr("name")+"']"),c&&c.hide(),c=$("[id='error_"+$(a).attr("name")+"']"),0==c.size()&&($(a).after("\r\n<div id='error_"+$(a).attr("name")+"'></div>"),c=$("[id='error_"+$(a).attr("name")+"']")),c.removeClass(),c.addClass("easycheck_errorInfo"),"no"!=t.ecss&&($(a).attr("ecss")&&"yes"!=$(a).attr("ecss")||($(a).removeClass(t.okcss),$(a).addClass("easycheck_errorInput"))),d=c.attr("prefix"),d?c.html(d+b):(d="",c.html(b)),e=c.attr("info"),e&&c.html(d+e),c.show()},clearError:function(a,b){"string"==typeof a&&(a=$("#"+a));var c=$("[id='error_"+$(a).attr("name")+"']");c&&(c.removeClass(),"no"!=t.ecss&&($(a).attr("ecss")&&"yes"!=$(a).attr("ecss")||($(a).removeClass("easycheck_errorInput"),$(a).addClass(t.okcss))),c.addClass("easycheck_okInfo"),b?c.html(b):c.html(""),c.hide())},ChkRule:function(a,b,c){this.chkName=a,this.chkFunction=b,this.chkAttr=c},addChkMethod:function(a,b,c,d){var f,g,e=$("[id='default_"+$(a).attr("name")+"']");return e&&e.hide(),c(a)?(t.clearError(a),f=$("[id='default_"+$(a).attr("name")+"']"),f&&f.hide(),g=$("[id='ok_"+$(a).attr("name")+"']"),g&&(g.addClass("easycheck_okInfo"),g.show()),!0):(e=$("[id='default_"+$(a).attr("name")+"']"),e&&e.hide(),t.showError(a,d),b&&b.stopImmediatePropagation(),!1)},checkForm:function(a){var d,e,c={eleArea:"[id='"+$(a).attr("id")+"'] ",chkFlag:!0,errorEleArray:new Array};for(d=0;d<t.chkList.length;d++)e=t.chkList[d],b(e,c);return 1==c.chkFlag&&1==t.easyCheckSubmitDisable?$(":submit",$(c.eleArea)).attr("disabled","true"):$(":submit",$(c.eleArea)).removeAttr("disabled"),c.chkFlag}};t.chkList=[new t.ChkRule("required",g),new t.ChkRule("email",h),new t.ChkRule("url",i),new t.ChkRule("number",j),new t.ChkRule("integer",k),new t.ChkRule("equalto",l,!0),new t.ChkRule("equallength",m,!0),new t.ChkRule("minlength][maxlength",n,!0),new t.ChkRule("minlength",o,!0),new t.ChkRule("maxlength",p,!0),new t.ChkRule("min][max",q,!0),new t.ChkRule("min",r,!0),new t.ChkRule("max",s,!0),new t.ChkRule("reg",e,!0),new t.ChkRule("extension",f,!0),new t.ChkRule("vc",d,!0)],t.easyCheckIgnore.vc=!0,t.easyCheckEleIgnore.uservc=!0,a.EasyCheck=t}(window),$(function(){function a(a,b,c){c(a,b)}function b(b){var c=b.chkAttr?"["+b.chkName+"]":"[class~='"+b.chkName+"']";$(c).on("blur",function(c){EasyCheck.easyCheckBlurIgnore[b.chkName]||EasyCheck.easyCheckEleIgnore[c.target.name]||(EasyCheck.blurChk?a(this,c,b.chkFunction):"")}).on("focus",function(){var b,c;EasyCheck.clearError(this),b=$("[id='ok_"+$(this).attr("name")+"']"),b.length>0?b.filter(":hidden").length>0&&(c=$("[id='default_"+$(this).attr("name")+"']"),c&&c.show()):(c=$("[id='default_"+$(this).attr("name")+"']"),c&&c.show())}).on("keyup",function(c){EasyCheck.easyCheckKeyupIgnore[b.chkName]||EasyCheck.easyCheckEleIgnore[c.target.name]||(EasyCheck.keyupChk?a(this,c,b.chkFunction):"")})}function c(){var a,c;for(a=0;a<EasyCheck.chkList.length;a++)c=EasyCheck.chkList[a],EasyCheck.easyCheckIgnore[c.chkName]||b(c)}var d;for(EasyCheck.loadChk?"":(EasyCheck.blurChk=!1,EasyCheck.keyupChk=!1),c(),d=0;d<EasyCheck.removeDisableBtn.length;d++)$("#"+EasyCheck.removeDisableBtn[d]).removeAttr("disabled");if(1==EasyCheck.removeDisable)$("form :submit").removeAttr("disabled");else for(d=0;d<EasyCheck.removeDisableForm.length;d++)$(":submit",$("#"+EasyCheck.removeDisableForm[d])).removeAttr("disabled");$("[id*='ok_']").hide()});